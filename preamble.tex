% PREAMBLE

\documentclass[12pt]{scrreprt}

\usepackage[a4paper]{geometry}
\usepackage{graphicx,color}
\usepackage[numbers,sort&compress]{natbib}
\usepackage[utf8]{inputenc}
\usepackage[ngerman]{babel}
\usepackage[german]{babelbib}
\usepackage{amsmath,amssymb}
\usepackage{amsthm,mathdots,gauss}
\usepackage{capt-of}
\usepackage{todonotes,ifthen,wasysym,mflogo}
\usepackage{stackrel}
\usepackage{subfig}
\usepackage{listings}
\usepackage{hyperref,float}
\usepackage{ziffer}
\usepackage[subfigure]{tocloft}

%%% fonts

%\usepackage[bitstream-charter]{mathdesign}

%%% tikz

\usepackage{pgf,tikz}

\usetikzlibrary{arrows}

%%% geogebra

% geogebra farbcodes unschoen, aber zu aufwendig um die haendisch auszubessern -.-
\definecolor{qqqqff}{rgb}{0,0,1}
\definecolor{xdxdff}{rgb}{0.49,0.49,1}
\definecolor{uququq}{rgb}{0.25,0.25,0.25}
\definecolor{evtftf}{rgb}{0.9,0.25,0.25}
\definecolor{qqwuqq}{rgb}{0,0.39,0}
\definecolor{qqffqc}{rgb}{0,1,0.05}
\definecolor{ffffqq}{rgb}{1,1,0}
\definecolor{ffqqff}{rgb}{1,0,1}
\definecolor{ttttff}{rgb}{0.2,0.2,1}
\definecolor{ffffff}{rgb}{1,1,1}
\definecolor{lightbluegray}{rgb}{0.9,0.9,1.0}

%%% amsthm macros

\makeatletter
\newcommand{\newtheoremenv}[3]{
  \newtheoremenv@selectfont{default}
  \newtheorem{#1thm}{#2}
  \newenvironment{#1}[1][]{\begin{#1thm}[##1]\newtheoremenv@autoflush}{\newtheoremenv@foot{#3}\end{#1thm}}
}

\newcommand{\newtheoremenvstar}[4][default]{
  \newtheoremenv@selectfont{#1}
  \newtheorem*{#2thm}{#3}
  \newenvironment{#2}[1][]{\begin{#2thm}[##1]\newtheoremenv@autoflush}{\newtheoremenv@foot{#4}\end{#2thm}}
}

\newcommand{\newtheoremenv@oldqed}{}

\newcommand{\newtheoremenv@foot}[1]{
  \ifthenelse{\equal{#1}{}}{}{
    \renewcommand{\newtheoremenv@oldqed}{\qedsymbol}
    \renewcommand{\qedsymbol}{#1}
    \qed
    \renewcommand{\qedsymbol}{\newtheoremenv@oldqed}
  }
}

\newcommand{\newtheoremenv@selectfont}[1]{
  \ifthenelse{\equal{#1}{default}}{\theoremstyle{ourthmstyle_default}}{}
  \ifthenelse{\equal{#1}{normal}}{\theoremstyle{ourthmstyle_normal}}{}
}

% JP: Falls ein Beispiel direkt mit einer Auflistung anfängt, wird eine neue Zeile eingefügt,
% damit der erste Punkt nicht neben "Beispiel X" steht, sondern darunter.

% LH: Auf beliebige amsthm-Umgebungen erweitert
\newcommand{\newtheoremenv@flush}{\leavevmode\newline\vspace*{-1.5em}}
\newcommand{\newtheoremenv@noflush}{}
\newcommand{\newtheoremenv@autoflush}{\@ifnextchar\begin \newtheoremenv@flush \newtheoremenv@noflush}

\makeatother

%%% common macros

\newcommand{\ds}{\displaystyle}
\newcommand{\flush}{\begin{flushleft}\end{flushleft}\noindent}

%%% amsthm styles

% LH: Anpassung von AMS-Theorem an den Style der Überschriften
% von http://en.wikibooks.org/w/index.php?title=LaTeX/Theorems&oldid=1645789
\newtheoremstyle{ourthmstyle_default} % means AMS default (itseries)
{ }% measure of space to leave above the theorem. E.g.: 3pt
{ }% measure of space to leave below the theorem. E.g.: 3pt
{\normalfont\itshape}% name of font to use in the body of the theorem
{ }% measure of space to indent
{\normalfont\sffamily\bfseries}% name of head font
{}% punctuation between head and body
{ }% space after theorem head; " " = normal interword space
{}% Manually specify head

\newtheoremstyle{ourthmstyle_normal} % means 'normalfont'
{ }% measure of space to leave above the theorem. E.g.: 3pt
{ }% measure of space to leave below the theorem. E.g.: 3pt
{\normalfont}% name of font to use in the body of the theorem
{ }% measure of space to indent
{\normalfont\sffamily\bfseries}% name of head font
{}% punctuation between head and body
{ }% space after theorem head; " " = normal interword space
{}% Manually specify head

%%% amsthm conf

\newtheoremenv{theorem}{Satz}{}
\newtheoremenv{lemma}{Lemma}{}
\newtheoremenv{proposition}{Behauptung}{}

\newtheoremenvstar[normal]{definition}{Definition}{$\LHD$}
\newtheoremenvstar[normal]{example}{Beispiel}{$\lhd$}
\newtheoremenvstar[normal]{note}{Anmerkung}{$\lhd$}
\newtheoremenvstar[normal]{repetition}{Wiederholung}{$\lhd$}

%%% enumeration style

\renewcommand{\theenumi}{\arabic{enumi}}
\renewcommand{\labelenumi}{(\theenumi)}
\renewcommand{\theenumii}{\alph{enumii}}
\renewcommand{\labelenumii}{(\theenumii)}

%%% style

\allowdisplaybreaks
\bibliographystyle{babalpha}

\lstset{language=Lisp, numbers=left, numberstyle=\tiny\ttfamily, stepnumber=1, numbersep=5pt, frame=none, backgroundcolor=\color{lightbluegray}, captionpos=b,
basicstyle=\small\ttfamily , identifierstyle=, xleftmargin=0pt, xrightmargin=0pt }


\makeatletter
\renewcommand{\@todonotes@todolistname}{Aufgabenliste}
\makeatother

%%% matrix column alignment

% JP: Mit folgendem neu definierten matrix-command, können die 
% Elemente einer Matrix nun ausgerichtet werden [l,r,c]
\makeatletter
\renewcommand*\env@matrix[1][c]{\hskip -\arraycolsep
  \let\@ifnextchar\new@ifnextchar
  \array{*\c@MaxMatrixCols #1}}
\makeatother

%%% list of lectures

\newcommand{\listlecturename}{Vorlesungsverzeichnis}
\newlistof{lectures}{lec}{\listlecturename}

\newcommand{\lecture}[1]{

  \addcontentsline{lec}{lectures}{#1}
  \noindent
  \fbox{
      \begin{minipage}{\textwidth}\centering
        \sffamily\large Vorlesung vom #1
      \end{minipage}
  }
}



%%% lecturer shortcuts

\newcommand{\induction}{Beweis per vollständiger Induktion}
\newcommand{\imag}{\operatorname{i}}
\newcommand{\euler}{\operatorname{e}}
\newcommand{\equals}{\mathrel{\widehat{=}}}

\newcommand{\integer}{\texttt{INTEGER}}
\newcommand{\real}{\texttt{REAL}}

\newcommand{\annotation}[1]{\emph{#1, Anm. d. Verfasser}}

\renewcommand{\Re}{\ensuremath{\operatorname{Re}}}
\renewcommand{\Im}{\ensuremath{\operatorname{Im}}}

\newcommand{\liminfty}[2][n]{\ensuremath{\lim_{#1 \rightarrow \infty} \left( #2 \right)}}